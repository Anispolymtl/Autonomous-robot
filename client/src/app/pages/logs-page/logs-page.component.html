<!-- HEADER -->
<header class="header">
  <div class="header-top">
    <div class="header-left">
      <div class="logo">üìà</div>
      <div class="header-title">
        <h1>Mission Control System</h1>
        <p>Logs & Diagnostics</p>
      </div>
    </div>
    <div class="header-right">
      <div class="status-badge">
        <span>‚è∞</span>
        <span>Live: {{ liveData.length }} robots actifs</span>
      </div>
      <button class="settings-btn">‚öôÔ∏è</button>
    </div>
  </div>

  <div class="tabs">
    <button 
      class="tab" 
      [class.active]="activeTab === 'live'" 
      (click)="switchTab('live')"
    >
      üì° Live Monitoring
    </button>
    <button 
      class="tab" 
      [class.active]="activeTab === 'history'" 
      (click)="switchTab('history')"
    >
      üìÇ Mission History
    </button>
  </div>
</header>

<div class="mission-context" *ngIf="missionId">
  Logs affich√©s pour la mission <span>{{ missionId }}</span>
</div>

<div class="main-container">
  <!-- MAIN CONTENT -->
  <main class="content">
    <!-- LIVE TAB -->
    <div *ngIf="activeTab === 'live'" class="tab-content">
      <h2 class="content-title">Monitoring en Direct</h2>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Robot</th>
              <th>Timestamp</th>
              <th>Distance (m)</th>
              <th>Position (X, Y)</th>
              <th>Commande</th>
              <th>Statut</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of liveData">
              <td class="robot-name">{{ row.robot }}</td>
              <td class="timestamp">{{ row.timestamp }}</td>
              <td class="position">{{ row.distance.toFixed(2) }}</td>
              <td class="position">({{ row.x }}, {{ row.y }})</td>
              <td>
                <span class="command-badge">{{ row.command }}</span>
              </td>
              <td>
                <span 
                  class="status-badge-table"
                  [class.status-executing]="row.status === 'executing'"
                  [class.status-idle]="row.status === 'idle'"
                >
                  {{ row.status.toUpperCase() }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="chart-container">
        <h3 class="chart-title">Distance (m) - Historique 3 min</h3>
        <div class="chart-placeholder">
          üìä Graphique en temps r√©el (Robot-01, Robot-02, Robot-03)
        </div>
      </div>
    </div>

    <!-- HISTORY TAB -->
    <div *ngIf="activeTab === 'history'" class="tab-content">
      <app-mission-list></app-mission-list>
    </div>

  </main>
</div>
