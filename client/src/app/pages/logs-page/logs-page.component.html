<!-- HEADER -->
<header class="header">
  <div class="header-top">
    <div class="header-left">
      <div class="logo">ðŸ“ˆ</div>
      <div class="header-title">
        <h1>Centre de contrÃ´le de mission</h1>
        <p>Journalisation et diagnostics</p>
      </div>
    </div>
    <div class="header-right">
      <div class="status-badge">
        <span>ðŸ”´</span>
        <span>EN DIRECT: {{ liveData.length }} robots actifs</span>
      </div>
    </div>
  </div>

  <div class="tabs">
    <button 
      class="tab" 
      [class.active]="activeTab === 'live'" 
      (click)="switchTab('live')"
    >
      ðŸ“¡ Surveillance
    </button>
    <button 
      class="tab" 
      [class.active]="activeTab === 'history'" 
      (click)="switchTab('history')"
    >
      ðŸ“‚ Historique
    </button>
  </div>
</header>

<div class="mission-context" *ngIf="missionId">
  Logs affichÃ©s pour la mission <span>{{ missionId }}</span>
</div>

<div class="main-container">
  <!-- MAIN CONTENT -->
  <main class="content">
    <!-- LIVE TAB -->
    <div *ngIf="activeTab === 'live'" class="tab-content">
      <h2 class="content-title">Surveillance en direct</h2>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Robot</th>
              <th>Timestamp</th>
              <th>Distance (m)</th>
              <th>Position (X, Y)</th>
              <th>Commande</th>
              <th>Statut</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of liveData">
              <td class="robot-name">{{ row.robot }}</td>
              <td class="timestamp">{{ row.timestamp }}</td>
              <td class="position">{{ row.distance.toFixed(2) }}</td>
              <td class="position">({{ row.x }}, {{ row.y }})</td>
              <td>
                <span class="command-badge">{{ row.command }}</span>
              </td>
              <td>
                <span 
                  class="status-badge-table"
                  [class.status-executing]="row.status === 'executing'"
                  [class.status-idle]="row.status === 'idle'"
                >
                  {{ row.status.toUpperCase() }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- HISTORY TAB -->
    <div *ngIf="activeTab === 'history'" class="tab-content">
      <app-mission-list></app-mission-list>
    </div>

  </main>
</div>
